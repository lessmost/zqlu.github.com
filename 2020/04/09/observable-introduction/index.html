<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Observable åŸºç¡€ä»‹ç» | zqlu&#39;s notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ç›´æ¥åœ¨ Observable ä¸Šé˜…è¯»æœ¬æ–‡ï¼Œç‚¹å‡»é“¾æ¥ ğŸ‘‡https:&#x2F;&#x2F;observablehq.com&#x2F;@zqlu&#x2F;observable  Observable æ˜¯ä»€ä¹ˆï¼ŸæŒ‰ç…§å®˜æ–¹çš„è¯´æ³•, Observable æ˜¯ç”¨æ¥æ¢ç´¢æ•°æ®å’Œç”¨ä»£ç æ€è€ƒçš„ notebookã€‚å¦‚æœä½ çŸ¥é“ Jupterï¼Œé‚£ä¹ˆå¯ä»¥ç†è§£ Observable æ˜¯å¯è§†åŒ–é¢†åŸŸçš„ notebookã€‚ é‚£å¯ä»¥ç”¨ Observable æ¥åšä»€ä¹ˆ">
<meta property="og:type" content="article">
<meta property="og:title" content="Observable åŸºç¡€ä»‹ç»">
<meta property="og:url" content="https://zqlu.github.io/2020/04/09/observable-introduction/index.html">
<meta property="og:site_name" content="zqlu&#39;s notes">
<meta property="og:description" content="ç›´æ¥åœ¨ Observable ä¸Šé˜…è¯»æœ¬æ–‡ï¼Œç‚¹å‡»é“¾æ¥ ğŸ‘‡https:&#x2F;&#x2F;observablehq.com&#x2F;@zqlu&#x2F;observable  Observable æ˜¯ä»€ä¹ˆï¼ŸæŒ‰ç…§å®˜æ–¹çš„è¯´æ³•, Observable æ˜¯ç”¨æ¥æ¢ç´¢æ•°æ®å’Œç”¨ä»£ç æ€è€ƒçš„ notebookã€‚å¦‚æœä½ çŸ¥é“ Jupterï¼Œé‚£ä¹ˆå¯ä»¥ç†è§£ Observable æ˜¯å¯è§†åŒ–é¢†åŸŸçš„ notebookã€‚ é‚£å¯ä»¥ç”¨ Observable æ¥åšä»€ä¹ˆ">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-04-09T22:57:50.000Z">
<meta property="article:modified_time" content="2021-03-01T21:09:57.417Z">
<meta property="article:author" content="zqlu">
<meta property="article:tag" content="Visualization">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="zqlu&#39;s notes" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
<link rel="stylesheet" href="/css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-151328471-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 4.2.0"></head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">zqlu&#39;s notes</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://zqlu.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-observable-introduction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/04/09/observable-introduction/" class="article-date">
  <time datetime="2020-04-09T22:57:50.000Z" itemprop="datePublished">2020-04-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Visualization/">Visualization</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Observable åŸºç¡€ä»‹ç»
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>ç›´æ¥åœ¨ Observable ä¸Šé˜…è¯»æœ¬æ–‡ï¼Œç‚¹å‡»é“¾æ¥ ğŸ‘‡<br><a href="https://observablehq.com/@zqlu/observable" target="_blank" rel="noopener">https://observablehq.com/@zqlu/observable</a></p>
</blockquote>
<h2 id="Observable-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Observable-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Observable æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Observable æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•, Observable æ˜¯ç”¨æ¥æ¢ç´¢æ•°æ®å’Œç”¨ä»£ç æ€è€ƒçš„ notebookã€‚å¦‚æœä½ çŸ¥é“ Jupterï¼Œé‚£ä¹ˆå¯ä»¥ç†è§£ Observable æ˜¯å¯è§†åŒ–é¢†åŸŸçš„ notebookã€‚</p>
<p>é‚£å¯ä»¥ç”¨ Observable æ¥åšä»€ä¹ˆå‘¢ï¼Ÿ</p>
<ul>
<li>æ­å»ºçœŸå®æ•°æ®çš„å¯è§†åŒ–åŸå‹</li>
<li>è¿æ¥åˆ°å…¶ä»–çš„ Web API</li>
<li>åˆ†äº«å’Œå¤ç”¨å…¶ä»–ä½œè€…çš„æŠ€æœ¯å’Œç»„ä»¶</li>
<li>å…±äº«å’Œå‘å¸ƒä½ çš„ä½œå“åˆ°ç¤¾åŒº</li>
</ul>
<p>Observable notebook ç”±ä¸€ä¸ªä¸ªå•å…ƒæ ¼ cell ç»„æˆï¼Œæ¯ä¸ªå•å…ƒæ ¼æ˜¯ç”¨ JavaScript ä»£ç å®šä¹‰çš„ã€‚å•å…ƒæ ¼ä¼šåœ¨ notebook å±•ç¤ºå®ƒçš„è§†å›¾ï¼Œå±•å¼€å•å…ƒæ ¼çš„æºä»£ç å°±å¯ä»¥å¯¹æºä»£ç è¿›è¡Œç¼–è¾‘ä¿®æ”¹ï¼Œè¿è¡Œå•å…ƒæ ¼ä»£ç åï¼Œå•å…ƒæ ¼è¿è¡Œç»“æœå°±ä¼šå±•ç¤ºåœ¨ notebook ä¸Šã€‚</p>
<h2 id="Observable-æ˜¯æ€æ ·è¿è¡Œçš„ï¼Ÿ"><a href="#Observable-æ˜¯æ€æ ·è¿è¡Œçš„ï¼Ÿ" class="headerlink" title="Observable æ˜¯æ€æ ·è¿è¡Œçš„ï¼Ÿ"></a>Observable æ˜¯æ€æ ·è¿è¡Œçš„ï¼Ÿ</h2><p>é¦–å…ˆï¼Œæ¯ä¸ªå•å…ƒæ ¼éƒ½æ˜¯ä¸€æ®µ JavaScript ä»£ç ï¼Œè¿è¡Œå•å…ƒæ ¼æ—¶ï¼Œå³è¾“å‡º JavaScript ä»£ç çš„æ‰§è¡Œç»“æœã€‚å¦‚ä¸‹é¢å•å…ƒæ ¼ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å•å…ƒæ ¼è¿è¡Œæ—¶å°†æ˜¾ç¤º 23</span></span><br><span class="line"><span class="number">2</span> + <span class="number">3</span> \* <span class="number">7</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤šæ¡è¯­å¥çš„ä»£ç å—ä½¿ç”¨ &#123;&#125; åŒ…èµ·æ¥</span></span><br><span class="line"><span class="comment">// å•å…ƒæ ¼è¿è¡Œæ—¶æ˜¾ç¤ºä»£ç å—æœ€åè¿”å›ç»“æœï¼š4950</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; ++i) &#123;</span><br><span class="line">    sum += i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œå•æ ¼æ ¼å¯ä»¥å‘½åï¼Œä½¿ç”¨ <code>name = {}</code> æ–¹å¼æ¥å‘½åï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">color = <span class="string">"red"</span>;</span><br></pre></td></tr></table></figure>

<p>å‘½åå•å…ƒæ ¼å¯ä»¥è¢«å…¶ä»–å•å…ƒæ ¼é¥®ç”¨ï¼Œå¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡Œè‹±å‹‡äº†ä¸Šé¢å•å…ƒæ ¼ color</span></span><br><span class="line"><span class="comment">// è¿è¡Œæ—¶å°†æ˜¾ç¤º</span></span><br><span class="line"><span class="comment">// My favorite color is red.</span></span><br><span class="line"><span class="string">`My favorite color is <span class="subst">$&#123;color&#125;</span>.`</span>;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼Œè¿™é‡Œå°±æœ‰ Observable notebook çš„ä¸€ä¸ªç‰¹æ€§äº†ï¼Œå½“è¢«å¼•ç”¨çš„å•å…ƒæ ¼æ›´æ–°æ—¶ï¼Œå¼•ç”¨äº†å®ƒçš„å•å…ƒæ ¼ä¹Ÿä¼šè¢«é‡æ–°æ‰§è¡Œã€‚</p>
<p>äº†è§£äº†å•å…ƒæ ¼çš„å®šä¹‰å’Œè¿è¡Œåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä»¥ä¸‹ï¼Œå•å…ƒæ ¼è¿è¡Œè¿”å›çš„æŒ‡éƒ½å¯ä»¥æ—¶å“ªäº›ç±»å‹ï¼Ÿä¸Šé¢æˆ‘ä»¬çœ‹åˆ°çš„å•å…ƒæ ¼éƒ½åªæ˜¯è¿”å›äº†ç®€å•çš„ number string ç­‰ã€‚</p>
<ul>
<li><p>å•å…ƒæ ¼å¯ä»¥ç”Ÿæˆå’Œè¿”å› DOM å…ƒç´ </p>
<p>ç®€å•çš„è¯´ï¼Œå› ä¸ºå•å…ƒæ ¼å¯ä»¥æ‰§è¡Œ JavaScript ä»£ç ï¼Œæ‰€ä»¥å½“ç„¶å¯ä»¥åœ¨å•å…ƒæ ¼ä¸­ä½¿ç”¨ JavaScript ä»£ç åˆ›å»º DOM å…ƒç´ ï¼Œå¹¶è¿”å› DOM å…ƒç´ ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå•å…ƒæ ¼è¿è¡Œçš„æ—¶å€™å°±ä¼šæ¸²æŸ“è¿”å›çš„ DOM å…ƒç´ ï¼Œå¦‚ï¼š</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="keyword">const</span> elem = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">	elem.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"Hello from Cell"</span>);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> elem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å•å…ƒæ ¼å¯ä»¥è¿”å› Markdown æ–‡æ¡£</p>
<p>å®é™…äº†ï¼Œåˆ°è¿™é‡Œï¼Œä½ å·²ç»çœ‹åˆ°äº†å¾ˆå¯¹è¿”å› Markdown æ–‡æ¡£çš„å•å…ƒæ ¼äº†ï¼Œæ¯”å¦‚å½“å‰è¿™ä¸ªå•å…ƒæ ¼ï¼šä½¿ç”¨å†…ç½®çš„ md æ ‡ç­¾å³å¯åˆ›å»º Markdown æ–‡æ¡£äº†ï¼š</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md<span class="string">`My favorite color is **<span class="subst">$&#123;color&#125;</span>**.`</span>;</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°è¿™é‡Œï¼Œå¤§æ¦‚å¯ä»¥æ˜ç™½ Observable notebook å•å…ƒæ ¼çš„è¿è¡Œäº†ï¼Œè¿”å› JavaScript çš„å•å…ƒæ ¼ï¼Œä¼šåœ¨å•å…ƒæ ¼ä¸Šæ˜¾ç¤ºè¿”å›å€¼ï¼Œå…¶ä»–ç‰¹åˆ«çš„æœ‰è¿”å› HTML å’Œ Markdown æ–‡æ¡£çš„å•å…ƒæ ¼ï¼›åŒæ—¶å•å…ƒæ ¼å¯ä»¥å‘½åå’Œè¢«å…¶ä»–å•å…ƒæ ¼å¼•ç”¨ï¼Œå¼•ç”¨åçš„å•å…ƒæ ¼ä¼šè‡ªåŠ¨é‡æ–°æ‰§è¡Œã€‚</p>
<p>æ­¤å¤–ï¼ŒObservable å•å…ƒæ ¼å’Œæ™®é€šçš„ JavaScript ä»£ç è¿˜ç”¨ä¸€ä¸‹åŒºåˆ«ï¼š</p>
<ul>
<li>å„ä¸ªå•å…ƒæ ¼æ˜¯ç›¸å…³ç‹¬ç«‹çš„ä»£ç å—ï¼šå³ä¸€ä¸ªå•å…ƒæ ¼çš„é”™è¯¯ä¸è¡Œé˜»ç¢å…¶ä»–å•å…ƒæ ¼ä»£ç æ‰§è¡Œï¼›åŒæ—¶å•å…ƒæ ¼å†…éƒ¨å˜é‡ä½œç”¨èŒƒå›´ä¹Ÿä»…åœ¨å½“å‰å•å…ƒæ ¼</li>
<li>å•å…ƒæ ¼æ˜¯æŒ‰ç…§æ‹“æ‰‘ç»“æ„é¡ºåºè¿è¡Œçš„ï¼šè¿™ä¸€ç‚¹ä¹Ÿæ˜¯ Observable æ¯”è¾ƒç‰¹åˆ«çš„åœ°æ–¹ï¼Œæ™®é€šçš„ JavaScript ä»£ç æ˜¯ä»ä¸Šå¿˜ä¸‹è¿è¡Œçš„ï¼ŒObservable ä¸­çš„å•å…ƒæ ¼ä¸æ˜¯ï¼Œæ˜¯æŒ‰ç…§å•å…ƒæ ¼ä¹‹å‰çš„ä¾èµ–å…³ç³»æ¥ç¡®å®šè¿è¡Œé¡ºåºçš„ï¼Œæ¯”å¦‚å•å…ƒæ ¼ a å¼•ç”¨äº†å•å…ƒæ ¼ bï¼Œé‚£å°±ä¼šå…ˆè¿è¡Œå•å…ƒæ ¼ bã€‚åŒæ—¶ï¼Œå› ä¸ºè¿™ä¸€ç‚¹ï¼Œå•å…ƒæ ¼ä¹‹é—´ä¸å…è®¸å­˜åœ¨å¾ªç¯ä¾èµ–ã€‚</li>
<li>å•å…ƒæ ¼ä¼šè‡ªåŠ¨éšå¼çš„ç­‰å¾… Promise resolveï¼Œå³ await Promiseï¼šæ¯”å¦‚ä¸€ä¸ªå•å…ƒæ ¼è¿”å›çš„æ˜¯ä¸€ä¸ª Promiseï¼Œé‚£å•å…ƒæ ¼è¿è¡Œå¼ä¼šç­‰å¾… Promiseï¼Œæ˜¾ç¤º Promise resolve/reject çš„ç»“æœï¼š</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">"Resolve from Promise"</span>);</span><br><span class="line">  &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    reject(<span class="string">"Rejected from Promise"</span>);</span><br><span class="line">  &#125;, <span class="number">3000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>å•å…ƒæ ¼ä¼šéšå¼åœ°éå† Generators</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">c = &#123;</span><br><span class="line"><span class="keyword">let</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(cnt &lt;= <span class="number">100</span>) &#123;</span><br><span class="line"><span class="keyword">yield</span> cnt;</span><br><span class="line">cnt += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Observable-ä¸­çš„è§†å›¾-View"><a href="#Observable-ä¸­çš„è§†å›¾-View" class="headerlink" title="Observable ä¸­çš„è§†å›¾ View"></a>Observable ä¸­çš„è§†å›¾ View</h2><p>è§†å›¾ view æ˜¯ Observable ä¸­å¦ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œåœ¨å‰é¢æåˆ°äº†å•å…ƒæ ¼å¯ä»¥è¿”å› DOM å…ƒç´ ï¼Œå³å•å…ƒæ ¼å¯ä»¥æœ‰è§†å›¾ï¼Œæ­¤å¤–ï¼Œå•å…ƒæ ¼ä¹Ÿæœ‰ valueï¼Œä¸ºäº†è®©å•å…ƒæ ¼çš„ value å’Œè§†å›¾ç»‘å®šï¼ŒObservable æä¾›äº†å†…ç½®çš„ viewof æ“ä½œç¬¦ã€‚</p>
<p>å‚è§ä¸‹é¢çš„ä¾‹å­: æ³¨æ„ UI è§†å›¾å’Œ input å€¼ä¹‹é—´çš„å…³è”</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewof input = html`<span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">range</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span>`</span></span><br></pre></td></tr></table></figure>

<p>è¿™èƒŒåçš„åŸå› å…¶å®æ˜¯æŠŠå€¼ input å’Œè§†å›¾ DOM å…ƒç´ çš„ value å±æ€§è¿›è¡Œäº†ç»‘å®šï¼Œæ³¨æ„åœ¨ä¸ä½¿ç”¨ viewof çš„æ—¶å€™ï¼Œå³ä½¿ä¸Šä¹Ÿå¯ä»¥è¯»å–åˆ° DOM å…ƒç´  input2 ä¸Šçš„ valueï¼Œåªä¸è¿‡è¿™é‡Œå°±æ²¡æœ‰ç»‘å®šäº†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">input2 = html`<span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">range</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span>`</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">input2.value;</span><br></pre></td></tr></table></figure>

<h2 id="åœ¨-Observable-ä¸­å®ç°ç»„ä»¶"><a href="#åœ¨-Observable-ä¸­å®ç°ç»„ä»¶" class="headerlink" title="åœ¨ Observable ä¸­å®ç°ç»„ä»¶"></a>åœ¨ Observable ä¸­å®ç°ç»„ä»¶</h2><p>çŸ¥é“äº† viewof çš„ä½¿ç”¨åï¼Œå…¶å®å°±å¯ä»¥åœ¨ Observable ä¸­å®ç°ç»„ä»¶åŒ–çš„è§†å›¾äº†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">slider = &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;min = <span class="number">0</span>, max = <span class="number">100</span>, initialValue = <span class="number">50</span>, step = <span class="number">1</span>, prefix = <span class="string">''</span>, suffix = <span class="string">''</span>&#125; = props;</span><br><span class="line">    <span class="keyword">const</span> container = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</span><br><span class="line">    <span class="keyword">const</span> prefixNode = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="keyword">const</span> suffixNode = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="keyword">const</span> inputNode = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</span><br><span class="line">    suffixNode.appendChild(<span class="built_in">document</span>.createTextNode(suffix));</span><br><span class="line">    prefixNode.appendChild(<span class="built_in">document</span>.createTextNode(prefix));</span><br><span class="line">    inputNode.setAttribute(<span class="string">'type'</span>, <span class="string">'range'</span>);</span><br><span class="line">    inputNode.setAttribute(<span class="string">'min'</span>, min);</span><br><span class="line">    inputNode.setAttribute(<span class="string">'max'</span>, max);</span><br><span class="line">    inputNode.setAttribute(<span class="string">'step'</span>, step);</span><br><span class="line">    inputNode.setAttribute(<span class="string">'value'</span>, initialValue);</span><br><span class="line">    container.appendChild(prefixNode);</span><br><span class="line">    container.appendChild(inputNode);</span><br><span class="line">    container.appendChild(suffixNode);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è§†å›¾çš„åˆå§‹å€¼</span></span><br><span class="line">    container.value = <span class="built_in">Number</span>(initialValue);</span><br><span class="line">    inputNode.addEventListener(<span class="string">'input'</span>, evt =&gt; &#123;</span><br><span class="line">      container.value = <span class="built_in">Number</span>(evt.target.value);</span><br><span class="line">      <span class="comment">// è§†å›¾å€¼å‘ç”Ÿå˜åŒ–ï¼Œå‘å‡ºäº‹ä»¶</span></span><br><span class="line">      container.dispatchEvent(<span class="keyword">new</span> CustomEvent(<span class="string">"input"</span>));</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> container;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewof cnt = slider(&#123;<span class="attr">prefix</span>: <span class="string">'Start'</span>, <span class="attr">suffix</span>: <span class="string">'End'</span>&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewof timeline = slider(&#123;<span class="attr">prefix</span>: <span class="string">'20200301'</span>, <span class="attr">suffix</span>: <span class="string">'20200330'</span>, <span class="attr">min</span>: <span class="number">1</span>, <span class="attr">max</span>: <span class="number">30</span>, <span class="attr">initialValue</span>: <span class="number">1</span>&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­ï¼Œå°±å±•ç¤ºäº†å¦‚ä½•å®ç°ä¸€ä¸ªå®Œæ•´çš„ Observable ç»„ä»¶äº†ï¼šä¸€ä¸ªç»„ä»¶åŒ…æ‹¬äº†ï¼š</p>
<ul>
<li>è§†å›¾ï¼šä½¿ç”¨ DOM API åˆ›å»ºçš„ DOM å…ƒç´ </li>
<li>å€¼ï¼šå€¼æ˜¯å€¼ç›´æ¥æŒ‚åœ¨ DOM å…ƒç´ ä¸Šçš„ valueï¼Œvalue è¿™é‡Œè™½ç„¶æ˜¯ä¸€ä¸ªç®€å•çš„ number å€¼ï¼Œå®é™…ä¸Š value å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ï¼Œå¦‚å¤æ‚çš„ object ç­‰ï¼Œæ³¨æ„ value éœ€è¦æ›´æ–°å˜åŒ–çš„æ—¶å€™ï¼Œéœ€è¦å‘äº‹ä»¶å‡ºæ¥</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»ç»“ä¸€ä¸‹ï¼Œåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ä»å‰ç«¯å¼€å‘è€…çš„è§†è§’ä»‹ç»äº† Observableï¼š</p>
<ul>
<li>Observable çš„å®šä½å’ŒåŠŸèƒ½</li>
<li>Observable è¿è¡Œç›¸å…³é—®é¢˜</li>
<li>Observable ä¸­çš„ç»„ä»¶ç¼–å†™</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://zqlu.github.io/2020/04/09/observable-introduction/" data-id="cklr2sz33000c7woq1jw83s2k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Visualization/" rel="tag">Visualization</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/04/15/python-service-thing/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          [è¯‘]æˆ‘ä»¬å¿…é¡»å¾—è°ˆè°ˆ Pythonã€Gunicornã€Gevent è¿™äº›äº‹äº†
        
      </div>
    </a>
  
  
    <a href="/2019/12/26/d3-scale-intro/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">d3-scale-intro</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Desktop/">Desktop</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/">Frontend</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OpenSource/">OpenSource</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tools/">Tools</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Visualization/">Visualization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Desktop/" rel="tag">Desktop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NodeJS/" rel="tag">NodeJS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visualization/" rel="tag">Visualization</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awk/" rel="tag">awk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/" rel="tag">css</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Desktop/" style="font-size: 10px;">Desktop</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/NodeJS/" style="font-size: 10px;">NodeJS</a> <a href="/tags/Visualization/" style="font-size: 20px;">Visualization</a> <a href="/tags/awk/" style="font-size: 10px;">awk</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/http/" style="font-size: 10px;">http</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">å››æœˆ 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">åäºŒæœˆ 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">åä¸€æœˆ 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">äº”æœˆ 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">åäºŒæœˆ 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">å…­æœˆ 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">ä¸‰æœˆ 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/04/15/python-service-thing/">[è¯‘]æˆ‘ä»¬å¿…é¡»å¾—è°ˆè°ˆ Pythonã€Gunicornã€Gevent è¿™äº›äº‹äº†</a>
          </li>
        
          <li>
            <a href="/2020/04/09/observable-introduction/">Observable åŸºç¡€ä»‹ç»</a>
          </li>
        
          <li>
            <a href="/2019/12/26/d3-scale-intro/">d3-scale-intro</a>
          </li>
        
          <li>
            <a href="/2019/11/03/why-use-lowercase-for-filename/">ä¸ºä»€ä¹ˆ Google ä»£ç è§„èŒƒæ¨èä½¿ç”¨å°å†™ä½œä¸ºæ–‡ä»¶å</a>
          </li>
        
          <li>
            <a href="/2016/05/10/taobao-nodejs-mirror/">ä½¿ç”¨æ·˜å® NodeJS é•œåƒåŠ é€Ÿ Electron Node-Sass çš„å®‰è£…é€Ÿåº¦</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 zqlu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


  </div>
</body>
</html>